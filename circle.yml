#####
# Circle CI
# 
# For running docker images on circle ci, see: https://circleci.com/docs/docker
# For circle.yml explanation, see: https://circleci.com/docs/manually
# Python specific configuration, see: https://circleci.com/docs/language-python
#####

dependencies:
    pre:
        - pip install cookiecutter

test:
    override:
      - yes "" | cookiecutter https://github.com/JTarball/cookiecutter-django-app
      - cd django-myapp && python setup.py install
      - cd django-myapp/docs && make html coverage
      - mkdir -p django-myapp/circle-junit/django
      - cd django-myapp && py.test --junitxml=circle-junit/django/junit.xml tests/
      - mkdir -p $CIRCLE_TEST_REPORTS/django
      - mv django-myapp/circle-junit/django $CIRCLE_TEST_REPORTS/
